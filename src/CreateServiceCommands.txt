dir:SimPitch 
  - git submodule add https://github.com/SzymonKoniecko/SimPitchProtos.git src/Services/EngineService/src/SimPitchProtos
  - git submodule update --init --recursive


mkdir -p EngineService
cd EngineService

# Create the solution
dotnet new sln -n EngineService

# Create directories
mkdir -p src tests

# Create projects
dotnet new grpc -n EngineService.API -o src/EngineService.API
dotnet new classlib -n EngineService.Application -o src/EngineService.Application
dotnet new classlib -n EngineService.Domain -o src/EngineService.Domain
dotnet new classlib -n EngineService.Infrastructure -o src/EngineService.Infrastructure
dotnet new xunit -n EngineService.Tests -o tests/EngineService.Tests

# Add projects to solution
dotnet sln add src/EngineService.API/EngineService.API.csproj
dotnet sln add src/EngineService.Application/EngineService.Application.csproj
dotnet sln add src/EngineService.Domain/EngineService.Domain.csproj
dotnet sln add src/EngineService.Infrastructure/EngineService.Infrastructure.csproj
dotnet sln add tests/EngineService.Tests/EngineService.Tests.csproj

# Add project references
dotnet add src/EngineService.API/EngineService.API.csproj reference \
  src/EngineService.Application/EngineService.Application.csproj \
  src/EngineService.Infrastructure/EngineService.Infrastructure.csproj

dotnet add src/EngineService.Application/EngineService.Application.csproj reference \
  src/EngineService.Domain/EngineService.Domain.csproj

dotnet add src/EngineService.Infrastructure/EngineService.Infrastructure.csproj reference \
  src/EngineService.Application/EngineService.Application.csproj \
  src/EngineService.Domain/EngineService.Domain.csproj

dotnet add tests/EngineService.Tests/EngineService.Tests.csproj reference \
  src/EngineService.Application/EngineService.Application.csproj \
  src/EngineService.Domain/EngineService.Domain.csproj

###Infrastructure###
##  ClientFactory can download the newest version
dotnet add package dapper
dotnet add package Microsoft.Extensions.Logging --version 9.0.4
dotnet add package Microsoft.Data.SqlClient --version 6.1.0
dotnet add package Microsoft.Extensions.Configuration.Abstractions --version 9.0.4
dotnet add package Microsoft.Extensions.DependencyInjection.Abstractions
dotnet add package Grpc.Net.Client --version 2.60.0
dotnet add package Grpc.Tools --version 2.60.0
dotnet add package Google.Protobuf
dotnet add package Microsoft.Extensions.Logging.Abstractions --version 9.0.4
dotnet add package Microsoft.Extensions.Configuration.Binder --version 9.0.4
dotnet add package Newtonsoft.Json --version 13.0.3
dotnet add package Grpc.Net.ClientFactory --version 2.60.0
dotnet add package Microsoft.AspNetCore.App --framework net9.0
dotnet add package Grpc.Net.ClientFactory --version 2.60.0




###API###
dotnet add package Grpc.AspNetCore.Server.Reflection --version 2.60.0
dotnet add package Grpc.Net.Client --version 2.60.0
dotnet add package Grpc.Tools --version 2.60.0
dotnet add package Google.Protobuf
dotnet add package MediatR --version 11.1.0

##Application##
dotnet add package FluentValidation
dotnet add package MediatR --version 11.1.0
dotnet add package MediatR.Extensions.Microsoft.DependencyInjection  --version 11.1.0
dotnet add package FluentValidation.DependencyInjectionExtensions
dotnet add package Newtonsoft.Json --version 13.0.3
dotnet add package Microsoft.Extensions.Logging.Abstractions --version 9.0.4



##Test##
dotnet add package xunit
dotnet add package xunit.runner.visualstudio
dotnet add package Microsoft.NET.Test.Sdk
dotnet add package Moq
dotnet add package AutoFixture
dotnet add package AutoFixture.AutoMoq

dotnet add package Dapper
dotnet add package Microsoft.Data.Sqlite
dotnet add package System.Data.Common

dotnet add package MediatR  --version 11.1.0
dotnet add package MediatR.Extensions.Microsoft.DependencyInjection  --version 11.1.0

dotnet add package Grpc.Net.Client --version 2.60.0
dotnet add package Grpc.AspNetCore --version 2.60.0
dotnet add package Grpc.Tools --version 2.60.0
dotnet add package Grpc.Core.Testing

dotnet add package Microsoft.AspNetCore.TestHost

