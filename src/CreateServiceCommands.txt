dir:SimPitch 
  - git submodule add https://github.com/SzymonKoniecko/SimPitchProtos.git src/Services/SimulationService/src/SimPitchProtos
  - git submodule update --init --recursive


mkdir -p SimulationService
cd SimulationService

# Create the solution
dotnet new sln -n SimulationService

# Create directories
mkdir -p src tests

# Create projects
dotnet new grpc -n SimulationService.API -o src/SimulationService.API
dotnet new classlib -n SimulationService.Application -o src/SimulationService.Application
dotnet new classlib -n SimulationService.Domain -o src/SimulationService.Domain
dotnet new classlib -n SimulationService.Infrastructure -o src/SimulationService.Infrastructure
dotnet new xunit -n SimulationService.Tests -o tests/SimulationService.Tests

# Add projects to solution
dotnet sln add src/SimulationService.API/SimulationService.API.csproj
dotnet sln add src/SimulationService.Application/SimulationService.Application.csproj
dotnet sln add src/SimulationService.Domain/SimulationService.Domain.csproj
dotnet sln add src/SimulationService.Infrastructure/SimulationService.Infrastructure.csproj
dotnet sln add tests/SimulationService.Tests/SimulationService.Tests.csproj

# Add project references
dotnet add src/SimulationService.API/SimulationService.API.csproj reference \
  src/SimulationService.Application/SimulationService.Application.csproj \
  src/SimulationService.Infrastructure/SimulationService.Infrastructure.csproj

dotnet add src/SimulationService.Application/SimulationService.Application.csproj reference \
  src/SimulationService.Domain/SimulationService.Domain.csproj

dotnet add src/SimulationService.Infrastructure/SimulationService.Infrastructure.csproj reference \
  src/SimulationService.Application/SimulationService.Application.csproj \
  src/SimulationService.Domain/SimulationService.Domain.csproj

dotnet add tests/SimulationService.Tests/SimulationService.Tests.csproj reference \
  src/SimulationService.Application/SimulationService.Application.csproj \
  src/SimulationService.Domain/SimulationService.Domain.csproj

###Infrastructure###
dotnet add package dapper
dotnet add package Microsoft.Data.SqlClient --version 6.1.0
dotnet add package Microsoft.Extensions.Configuration.Abstractions --version 9.0.4
dotnet add package Microsoft.Extensions.DependencyInjection.Abstractions
dotnet add package Grpc.Net.ClientFactory ##obsolete?
dotnet add package Grpc.Net.Client --version 2.60.0
dotnet add package Grpc.Tools --version 2.60.0
dotnet add package Google.Protobuf
dotnet add package Microsoft.Extensions.Logging.Abstractions --version 9.0.4
dotnet add package Microsoft.Extensions.Configuration.Binder --version 9.0.4
dotnet add package Newtonsoft.Json --version 13.0.3
###API###
dotnet add package Grpc.AspNetCore.Server.Reflection
dotnet add package Grpc.Net.Client --version 2.60.0
dotnet add package Grpc.Tools --version 2.60.0
dotnet add package Google.Protobuf
dotnet add package MediatR

##Application##
dotnet add package FluentValidation
dotnet add package MediatR --version 11.1.0
dotnet add package MediatR.Extensions.Microsoft.DependencyInjection  --version 11.1.0
dotnet add package FluentValidation.DependencyInjectionExtensions


